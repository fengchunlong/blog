"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4708],{9773:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var s=t(5893),i=t(1151);const r={},a="[Django\u540e\u53f0]: \u8bbe\u7f6e\u51fd\u6570",o={id:"Django\u57fa\u7840\u6559\u7a0b/\u8bbe\u7f6e\u51fd\u6570",title:"[Django\u540e\u53f0]: \u8bbe\u7f6e\u51fd\u6570",description:"\u5728\u5c55\u793a\u5217\u8868\u7684\u65f6\u5019,\u5e76\u6ca1\u6709\u663e\u793a\u8fd9\u4e2a\u6587\u7ae0\u7684\u4f5c\u8005\u3002",source:"@site/docs/Django\u57fa\u7840\u6559\u7a0b/29.\u8bbe\u7f6e\u51fd\u6570.md",sourceDirName:"Django\u57fa\u7840\u6559\u7a0b",slug:"/Django\u57fa\u7840\u6559\u7a0b/\u8bbe\u7f6e\u51fd\u6570",permalink:"/docs/Django\u57fa\u7840\u6559\u7a0b/\u8bbe\u7f6e\u51fd\u6570",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:29,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"[Django\u540e\u53f0]: \u914d\u7f6e\u540e\u53f0",permalink:"/docs/Django\u57fa\u7840\u6559\u7a0b/\u914d\u7f6e\u540e\u53f0"},next:{title:"\u9879\u76ee\u90e8\u7f72\u7b80\u4ecb",permalink:"/docs/Django\u57fa\u7840\u6559\u7a0b/\u9879\u76ee\u90e8\u7f72\u7b80\u4ecb"}},c={},d=[];function l(n){const e={admonition:"admonition",code:"code",h1:"h1",img:"img",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"django\u540e\u53f0-\u8bbe\u7f6e\u51fd\u6570",children:"[Django\u540e\u53f0]: \u8bbe\u7f6e\u51fd\u6570"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u5c55\u793a\u5217\u8868\u7684\u65f6\u5019,\u5e76\u6ca1\u6709\u663e\u793a\u8fd9\u4e2a\u6587\u7ae0\u7684\u4f5c\u8005\u3002\n\u56e0\u4e3aArticle\u6ca1\u6709\u4f5c\u8005\u8fd9\u4e2a\u5b57\u6bb5\uff0c\u800c\u662f\u5173\u8054\u5230User\u8868\uff0c\n\u90a3\u6211\u600e\u4e48\u529e\u5462\uff1f\n\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u6765\u81ea\u5b9a\u4e49\u51fd\u6570\u6765\u5b9e\u73b0\u5b83\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5728app01/admin.py\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u540d\u5b57\u662fget_author\uff0c \u4ee3\u7801\u5982\u4e0b:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",metastring:"title='demo/app01/admin.py'",children:"from django.contrib import admin\nfrom app01.models import Article\n# Register your models here.\n\n# \u65b0\u589e\u51fd\u6570\ndef get_author(obj):\n    return obj.user.username\n\n\nclass ArticleAadmin(admin.ModelAdmin):\n    # \u65b0\u589eget_author, \u914d\u7f6e\u5c55\u793a\u5217\u8868\n    list_display = ('id', get_author, 'title', 'content')\n    list_display_links = ('id', 'title', 'content')\n    # \u914d\u7f6e\u8fc7\u6ee4\u5b57\u6bb5\n    list_filter = ('title', 'id')\n    # \u914d\u7f6e\u641c\u7d22\u4fe1\u606f\n    search_fields = ('title',)\n    # \u53ea\u8bfb\u5c5e\u6027\n    readonly_fields = ('id',)\n    # \u53ef\u4ee5\u4fee\u6539\n    # list_editable = ('title', 'content')\n\nget_author.short_description = '\u4f5c\u8005'\n\nadmin.site.register(Article, ArticleAadmin)\n\n"})}),"\n",(0,s.jsxs)(e.admonition,{title:"\u4ee3\u7801\u89e3\u6790",type:"info",children:[(0,s.jsx)(e.p,{children:"\u5728\u8fd9\u4e2aDjango\u7ba1\u7406\u540e\u53f0\u7684\u793a\u4f8b\u4ee3\u7801\u4e2d,get_author\u51fd\u6570\u662f\u4e00\u4e2a\u7528\u4e8e\u52a8\u6001\u83b7\u53d6\u6587\u7ae0\u4f5c\u8005\u7528\u6237\u540d\u7684\u65b9\u6cd5:"}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"\n\u5f53\u5728\u7ba1\u7406\u540e\u53f0\u6e32\u67d3Article\u5217\u8868\u65f6,\u4f1a\u5bf9\u6bcf\u4e2aarticle\u5bf9\u8c61\u6267\u884cget_author\u65b9\u6cd5,\u6765\u52a8\u6001\u83b7\u53d6article.user.username,\u4ece\u800c\u5b9e\u73b0\u6587\u7ae0\u4f5c\u8005\u5217\u7684\u5c55\u793a\u3002\n\n\u8fd9\u4e2a\u51fd\u6570\u7684\u4e00\u4e9b\u5173\u952e\u70b9\u662f:\n\n- \u51fd\u6570\u63a5\u6536article\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\n- \u901a\u8fc7article\u7684user\u5916\u952e\u83b7\u53d6\u5bf9\u5e94\u7684User\u5bf9\u8c61\n- \u8fd4\u56deUser\u7684username\u4f5c\u4e3a\u4f5c\u8005\u540d\n- \u4f7f\u7528short_description\u4fee\u6539\u4e86\u7ba1\u7406\u9875\u9762\u4e0a\u7684\u5217\u540d\u663e\u793a\n\n\u6240\u4ee5get_author\u51fd\u6570\u5141\u8bb8\u6211\u4eec\u5728\u6a21\u578b\u7684admin\u7ba1\u7406\u5668\u4e2d\u52a8\u6001\u83b7\u53d6\u5b57\u6bb5,\u8fdb\u884c\u66f4\u590d\u6742\u7684\u5217\u6570\u636e\u6e32\u67d3\u548c\u5904\u7406\u3002\n\n"})})]}),"\n",(0,s.jsxs)(e.p,{children:["\u8fd0\u884c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002\n",(0,s.jsx)(e.img,{alt:"\u56fe29-\u65b0\u589e\u4f5c\u8005\u5217",src:t(5374).Z+"",width:"1626",height:"600"})]}),"\n",(0,s.jsx)(e.p,{children:"\u9664\u6b64\u4e4b\u5916\uff0c\u6dfb\u52a0\u6587\u7ae0\u65f6\uff0c\u9700\u8981\u9009\u62e9\u4f5c\u8005\uff0c\u8fd9\u91cc\u662f\u4e0b\u62c9\u6846\uff0c\u4f46\u662f\u663e\u793a\u7684\u90fd\u662f\u5bf9\u8c61\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"\u56fe29-\u65b0\u589e\u4f5c\u8005\u5217",src:t(5374).Z+"",width:"1626",height:"600"})}),"\n",(0,s.jsx)(e.p,{children:"\u4e0b\u9762\u6211\u4eec\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\n\u6211\u4eec\u5728\u521b\u5efa\u6a21\u578b\u7684\u65f6\u5019\n\u6765\u627e\u5230account\u6a21\u578b\uff0c\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u540d\u5b57\u662f__str__, \u4ee3\u7801\u5982\u4e0b:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",metastring:"title='demo/account/models.py'",children:"class User(BaseModel):\n\n    class Meta:\n        pass\n\n    def __str__(self):\n        return self.username\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u597d\uff0c\u90a3\u63a5\u4e0b\u6765\u54b1\u4eec\u518d\u6765\u8fd0\u884c\u4e00\u4e0b,\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"\u56fe29-\u663e\u793a\u4f5c\u8005\u540d",src:t(8644).Z+"",width:"1620",height:"896"})}),"\n",(0,s.jsx)(e.p,{children:"\u81f3\u6b64\u5462\uff0c\u6211\u4eec\u5c31\u4ecb\u7ecd\u5b8c\u4e86\u5728\u6a21\u578b\u4e2d\u4f7f\u7528\u51fd\u6570\u4ee5\u53ca\u6765\u914d\u7f6e\u4e00\u4e9b\u76f8\u5e94\u7684\u4fe1\u606f\u3002"})]})}function p(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}},5374:(n,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/\u56fe29-\u65b0\u589e\u4f5c\u8005\u5217-a824594b87ee43ffcd92f0f1fcf9accb.png"},8644:(n,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/\u56fe29-\u663e\u793a\u4f5c\u8005\u540d-d7ff88b05bb3128db7b1e6dbeffbf274.png"},1151:(n,e,t)=>{t.d(e,{Z:()=>o,a:()=>a});var s=t(7294);const i={},r=s.createContext(i);function a(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);